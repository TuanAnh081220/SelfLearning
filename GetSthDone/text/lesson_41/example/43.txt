이것을 가르쳐 주셔서 감사합니다 = Thanks for teaching that to me
(가르치다 + ~아/어 주다 + ~(으)시 + ~아/어서 + 감사합니다)